<!DOCTYPE html>
<html>
<head>
    <title>Test React</title>
    <meta charset="UTF-8">
</head>
<body>
    <h1>ğŸ§ª Test React Rendering</h1>
    <div id="test-root"></div>
    
    <script>
        console.log('ğŸ” Testing browser environment...')
        
        // Test 1: Check if page loads
        console.log('âœ… HTML loaded')
        
        // Test 2: Check if we can access localhost:5173
        fetch('http://localhost:5173/')
            .then(response => {
                console.log('âœ… Vite server responds:', response.status)
                return response.text()
            })
            .then(html => {
                console.log('âœ… HTML length:', html.length)
                
                // Test 3: Check if HTML contains React elements
                if (html.includes('<div id="root">')) {
                    console.log('âœ… Root element found in HTML')
                } else {
                    console.log('âŒ No root element in HTML')
                }
                
                if (html.includes('main.tsx')) {
                    console.log('âœ… main.tsx script found')
                } else {
                    console.log('âŒ No main.tsx script')
                }
                
                // Test 4: Try to load the page in an iframe
                const iframe = document.createElement('iframe')
                iframe.src = 'http://localhost:5173/'
                iframe.style.width = '100%'
                iframe.style.height = '400px'
                iframe.style.border = '1px solid #ccc'
                
                iframe.onload = () => {
                    console.log('âœ… Application loaded in iframe')
                    
                    setTimeout(() => {
                        try {
                            const doc = iframe.contentDocument || iframe.contentWindow.document
                            const root = doc.getElementById('root')
                            if (root && root.children.length > 0) {
                                console.log('âœ… React app rendered - found', root.children.length, 'child elements')
                            } else {
                                console.log('âŒ React app not rendered - root is empty')
                            }
                        } catch (e) {
                            console.log('âš ï¸ Cannot access iframe content (CORS):', e.message)
                        }
                    }, 2000)
                }
                
                iframe.onerror = () => {
                    console.log('âŒ Failed to load application in iframe')
                }
                
                document.getElementById('test-root').appendChild(iframe)
            })
            .catch(error => {
                console.log('âŒ Cannot fetch from Vite server:', error)
            })
    </script>
</body>
</html>